(()=>{"use strict";!function(){let t=document.querySelectorAll('[class*="-ibg"]');for(let e=0;e<t.length;e++){let o=t[e].querySelector("img").getAttribute("src").indexOf("."),i=t[e].querySelector("img").getAttribute("src").slice(o+1),n=t[e].querySelector("img").getAttribute("src").slice(4,o);t[e].querySelector("img")&&(t[e].querySelector("img").src=`img/${n}.webp`,t[e].style.backgroundImage="url("+t[e].querySelector("img").getAttribute("src")+")"),t[e].querySelector("img").onerror=function(){t[e].querySelector("img").src=`img/${n}.${i}`,t[e].style.backgroundImage="url("+t[e].querySelector("img").getAttribute("src")+")"}}}(),document.addEventListener("click",(t=>{const e=t.target;if(e.closest("[data-waves]")){const o=e.closest("[data-waves]"),i=document.createElement("span"),n=document.createElement("span"),s=Math.max(o.clientWidth,o.clientHeight),c=s/2;i.classList.add("btn-anim__line"),n.classList.add("btn-anim__line-one"),"once"===o.dataset.lines&&o.querySelector(".btn-anim__line")&&o.querySelector(".btn-anim__line").remove(),"once"===o.dataset.lines&&o.querySelector(".btn-anim__line-one")&&o.querySelector(".btn-anim__line-one").remove(),o.appendChild(i),o.appendChild(n),i.style.width=i.style.height=`${s}px`,i.style.left=t.pageX-(o.getBoundingClientRect().left+scrollX)-c+"px",i.style.top=t.pageY-(o.getBoundingClientRect().top+scrollY)-c+"px",n.style.width=n.style.height=`${s}px`,n.style.right=t.pageX-(o.getBoundingClientRect().left+scrollX)-c+"px",n.style.bottom=t.pageY-(o.getBoundingClientRect().top+scrollY)-c+"px";const l=a();function a(){const t=getComputedStyle(i).animationDuration;return t.includes("ms")?t.replace("ms",""):1e3*t.replace("s","")}setTimeout((()=>{i&&i.remove(),n&&n.remove()}),l)}})),function(t){let e=new Image;e.onload=e.onerror=function(){!function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)}(2==e.height)},e.src="data: image / webp; base64, UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA / veff / 0PP8bA//LwYAAA"}();const{log:t}=console,{dir:e}=console;window.onload=function(){const t=document.querySelector(".to-do__enter"),e=document.querySelector(".to-do__list"),o=document.querySelector(".to-do__button-add"),i=document.querySelector(".to-do__button-delete");function n(i){let n=t.value,c=(new Date).toLocaleString();const l=i.code;if(null!=n.match(/\S/g)){if(o.classList.add("_active"),"Enter"===l&&0!=n.length||i.target.classList.contains("to-do__button-add")&&0!=n.length){o.classList.contains("_active")&&o.classList.remove("_active");let i=`<li class="to-do__item item-to-do">\n\t\t\t\t\t<div class="item-to-do__text" data-tooltip="">${n}</div>\n\t\t\t\t\t<input class="item-to-do__edit-text" type="text" value="${n}" placeholder=" ">\n\t\t\t\t\t<div class="item-to-do__edit edit-item">\n\t\t\t\t\t<button class="edit-item__record" type="button" data-tooltip="Редактировать задание">✏️</button>\n\t\t\t\t\t<button class="edit-item__confirm" type="button" data-tooltip="Сохранить изменения">✔️</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="item-to-do__row">\n\t\t\t\t\t<div class="item-to-do__time">${c}</div>\n\t\t\t\t\t<button class="item-to-do__close" type="button" data-tooltip="Удалить задание">\n\t\t\t\t\t<svg width="12" height="12" viewBox="0 0 12 12" role="img" aria-label="delete case." fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t<path\n\t\t\t\t\td="M10.192 0.343994L5.94903 4.58599L1.70703 0.343994L0.29303 1.75799L4.53503 5.99999L0.29303 10.242L1.70703 11.656L5.94903 7.41399L10.192 11.656L11.606 10.242L7.36403 5.99999L11.606 1.75799L10.192 0.343994Z"\n\t\t\t\t\t\t />\n\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t</li>`;e.insertAdjacentHTML("beforeend",i),t.value="",setTimeout((()=>{document.querySelectorAll(".item-to-do").forEach((t=>t.classList.add("_exists"))),s()}),200)}}else o.classList.remove("_active")}function s(){let t=[];document.querySelectorAll(".item-to-do").forEach((e=>{const o=e.outerHTML;t.push(o)})),localStorage.setItem("array",JSON.stringify(t))}o.addEventListener("click",n),i.addEventListener("click",(function(){if(e.children.length>0){const t=document.querySelector(".question");t.classList.add("_active"),t.addEventListener("click",(({target:e})=>{e.closest(".question__button")&&("true"===e.dataset.agreemenе&&(document.querySelectorAll(".item-to-do").forEach((t=>t.remove())),s()),t.classList.remove("_active"))}))}})),document.body.addEventListener("click",(function({target:t}){const e=t.closest(".item-to-do");if(t.classList.contains("item-to-do__text")&&!t.classList.contains("_through")){let o=e.querySelector(".item-to-do__time");t.classList.add("_through"),t.parentElement.classList.add("_active");let i=document.createElement("span"),n=(new Date).toLocaleString();o.appendChild(i),i.innerHTML=n,e.querySelector(".edit-item").classList.add("_inactive")}else if(t.classList.contains("item-to-do__text")&&t.classList.contains("_through"))t.classList.remove("_through"),t.parentElement.classList.remove("_active"),e.querySelector(".item-to-do__time").querySelector("span").remove(),e.querySelector(".edit-item").classList.remove("_inactive");else if(t.closest(".item-to-do__close"))e.remove();else if(t.classList.contains("edit-item__record")){const t=e.querySelector(".item-to-do__edit-text"),o=e.querySelector(".item-to-do__text");t.value=o.innerHTML,t.classList.add("_active"),o.classList.add("_inactive")}else if(t.classList.contains("edit-item__confirm")){const t=e.querySelector(".item-to-do__edit-text").value;e.querySelector(".item-to-do__text").innerHTML=t,e.querySelector(".item-to-do__edit-text").classList.remove("_active"),e.querySelector(".item-to-do__text").classList.remove("_inactive")}s()})),t.addEventListener("keyup",n),function(){if(localStorage.length>0){let t=localStorage.getItem("array");t=JSON.parse(t),t.forEach((t=>{e.insertAdjacentHTML("beforeend",`${t}`)}))}}()}})();